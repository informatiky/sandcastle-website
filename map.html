<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Map Example</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        #buttons { position: absolute; top: 10px; left: 10px; z-index: 1; }
        #buttons button { margin-bottom: 5px; }
        #layer-select {
            font-family: "Lexend", sans-serif;
            border: none;
            padding: 50px;
            font-size: 16px;
        }
        #layers-dropdown label {
            font-size: 20px;
        }
        #layers-dropdown{
            font-size: 20px;
            font-family: "Lexend", sans-serif;
            color: #000;
            position: fixed;
            bottom: 100px;
            right: 100px;
            z-index: 1;
            padding: 10px;
            background-color: #FFDDAB;
            border-radius: 10px 10px 0 0;
            border-bottom: #FFBB6D 5px solid;
        }
    </style>
</head>
<body>
<div id="map"></div>
<div id="layers-dropdown">
    <label for="layer-select">Select a Floor:</label>
    <select id="layer-select">
        <option value="dobrev-internalstreet">Internal Street</option>
        <option value="dobrev-groundfloor">Ground Floor</option>
        <option value="dobrev-entresol">Entresol</option>
        <option value="dobrev-firstfloor">First Floor</option>
        <option value="dobrev-secondfloor">Second Floor</option>
        <option value="dobrev-thirdfloor">Third Floor</option>
        <option value="dobrev-fourthfloor">Fourth Floor</option>
        <option value="dobrev-fithfloor">Fifth Floor</option>
    </select>
</div>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZG9icmV2IiwiYSI6ImNsdXh2bHNsZzB0anAya3J5ZWt4d2kxdGcifQ.16chPGvuiy7NtNPT40j4-Q';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/dobrev/cluwr3e3h002f01oc1wa77c4o',
        zoom: 16,
        maxBounds: [
            [4.949129830812353,
                52.31182846468624], // Southwest coordinates
            [4.952162156771436,
                52.31325386724649], // Northeast coordinates
        ],
        center: [4.950331, 52.312669]
    });

    map.on('load', function() {
        // Set the initial visibility of all layers to 'none'
        map.setLayoutProperty('dobrev-internalstreet', 'visibility', 'visible');
        map.setLayoutProperty('dobrev-groundfloor', 'visibility', 'none');
        map.setLayoutProperty('dobrev-entresol', 'visibility', 'none');
        map.setLayoutProperty('dobrev-firstfloor', 'visibility', 'none');
        map.setLayoutProperty('dobrev-secondfloor', 'visibility', 'none');
        map.setLayoutProperty('dobrev-thirdfloor', 'visibility', 'none');
        map.setLayoutProperty('dobrev-fourthfloor', 'visibility', 'none');
        map.setLayoutProperty('dobrev-fithfloor', 'visibility', 'none');
    });

    document.getElementById('layer-select').addEventListener('change', function() {
        const selectedLayer = this.value;
        const layers = ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor'];
        const layersToHide = layers.filter(layer => layer !== selectedLayer);
        toggleLayerVisibility(selectedLayer, layersToHide);
    });

    function toggleLayerVisibility(layerToShow, layersToHide) {
        // Set the visibility of the layer to show
        map.setLayoutProperty(layerToShow, 'visibility', 'visible');

        // Hide the layers that need to be hidden
        layersToHide.forEach(function(layer) {
            map.setLayoutProperty(layer, 'visibility', 'none');
        });
    }
</script>
</body>
</html>