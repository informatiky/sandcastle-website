<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Map Example</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        #buttons { position: absolute; top: 10px; left: 10px; z-index: 1; }
        #buttons button { margin-bottom: 5px; }
    </style>
</head>
<body>
<div id="map"></div>
<div id="buttons">
    <button id="internal-street-btn">Internal Street</button>
    <button id="ground-floor-btn">Ground Floor</button>
    <button id="entresol-btn">Entresol</button>
    <button id="first-floor-btn">First Floor</button>
    <button id="second-floor-btn">Second Floor</button>
    <button id="third-floor-btn">Third Floor</button>
    <button id="fourth-floor-btn">Fourth Floor</button>
    <button id="fith-floor-btn">Fith Floor</button>
</div>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZG9icmV2IiwiYSI6ImNsdXh2bHNsZzB0anAya3J5ZWt4d2kxdGcifQ.16chPGvuiy7NtNPT40j4-Q';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/dobrev/cluwr3e3h002f01oc1wa77c4o',
        zoom: 20,
        maxBounds: [
            [4.949827224355914, 52.31203354448894], // Southwest coordinates
            [4.951352119815851, 52.3132040022972], // Northeast coordinates
        ],
        center: [4.950331, 52.312669]
    });

    map.on('load', function() {
        // Initially, no layers are loaded
    });

    // Add click event listeners to the buttons
    document.getElementById('internal-street-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-internalstreet', ['dobrev-groundfloor', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('ground-floor-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-groundfloor', ['dobrev-internalstreet', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('entresol-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-entresol', ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('first-floor-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-firstfloor', ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-entresol', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('second-floor-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-secondfloor', ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('third-floor-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-thirdfloor', ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-fourthfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('fourth-floor-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-fourthfloor', ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fithfloor']);
    });

    document.getElementById('fith-floor-btn').addEventListener('click', function() {
        toggleLayerVisibility('dobrev-fithfloor', ['dobrev-internalstreet', 'dobrev-groundfloor', 'dobrev-entresol', 'dobrev-firstfloor', 'dobrev-secondfloor', 'dobrev-thirdfloor', 'dobrev-fourthfloor']);
    });

    function toggleLayerVisibility(layerToShow, layersToHide) {
        // Load the layer to show if it's not already loaded
        if (!map.getLayer(layerToShow)) {
            map.addLayer({
                id: layerToShow,
                source: 'YOUR_SOURCE_ID',
                'source-layer': 'YOUR_SOURCE_LAYER',
                type: 'YOUR_LAYER_TYPE'
            });
        }

        // Set the visibility of the layer to show
        map.setLayoutProperty(layerToShow, 'visibility', 'visible');

        // Hide the layers that need to be hidden
        layersToHide.forEach(function(layer) {
            if (map.getLayer(layer)) {
                map.setLayoutProperty(layer, 'visibility', 'none');
            }
        });
    }
</script>
</body>
</html>